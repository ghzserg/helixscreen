#
# crosstool-NG defconfig for Creality K1 (MIPS32r2 NaN2008 FP64)
#
# Target: mipsel-k1-linux-gnu
# CPU:    MIPS32r2, little-endian, o32 ABI, hardware FP with NaN2008 + FP64
# Use:    Building a static cross-toolchain inside Docker for HelixScreen
#
# Generated from mipsel-unknown-linux-gnu sample + ct-ng savedefconfig
# with version choices set explicitly for ct-ng 1.26.0 kconfig format.
#
# To use:
#   cp k1-ct-ng.config .config
#   ct-ng olddefconfig
#   ct-ng build
#

CT_CONFIG_VERSION="4"
CT_EXPERIMENTAL=y

#
# Toolchain install prefix (not read-only so ct-ng can write during build)
#
CT_PREFIX_DIR="/opt/k1-toolchain"
# CT_PREFIX_DIR_RO is not set

#
# Target architecture: MIPS32r2, little-endian, hardware float
#
CT_ARCH_MIPS=y
CT_ARCH_LE=y
CT_ARCH_ARCH="mips32r2"
CT_ARCH_FLOAT_HW=y

#
# NaN2008 + FP64 flags — critical for K1 firmware ABI compatibility
#
CT_TARGET_CFLAGS="-mnan=2008 -mfp64"

#
# Build a static toolchain (portable across Docker layers / distros)
#
CT_STATIC_TOOLCHAIN=y

#
# Target tuple vendor string: mipsel-k1-linux-gnu
#
CT_TARGET_VENDOR="k1"

#
# Linux kernel headers (4.9 series — closest available to stock K1 4.4 kernel)
# Must use CT_LINUX_V_* choice symbol, not CT_LINUX_VERSION string
#
CT_KERNEL_LINUX=y
CT_LINUX_V_4_9=y

#
# binutils 2.31.1 — matches K1 firmware era
# Must use CT_BINUTILS_V_* choice symbol
#
CT_BINUTILS_V_2_31=y

#
# glibc 2.29 — exact match for K1 firmware
# Must use CT_GLIBC_V_* choice symbol
#
CT_GLIBC_V_2_29=y
CT_GLIBC_EXTRA_CONFIG_ARRAY="--with-nan=2008"

#
# GCC 7.5.0 — last release on GCC 7.x branch
# Required for C++ ABI compatibility with K1's libstdc++ 6.0.24 (GCC 7.x)
# Must use CT_GCC_V_* choice symbol
#
CT_GCC_V_7=y
CT_CC_GCC_EXTRA_CONFIG_ARRAY="--with-nan=2008 --with-fp-32=64"
CT_CC_LANG_CXX=y

#
# Disable debug facilities (saves significant build time)
# ct-ng 1.26.0 defaults enable DUMA and strace — disable them
#
# CT_DEBUG_DUMA is not set
# CT_DEBUG_STRACE is not set
